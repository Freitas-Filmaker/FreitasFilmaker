<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Freitas Filmmaker - Portfólio</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel para JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Fontes e Estilos Globais -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000;
            color: #fff;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #171717; }
        ::-webkit-scrollbar-thumb { background: #ea580c; border-radius: 4px; }

        @keyframes marquee {
            0% { transform: translateX(0%); }
            100% { transform: translateX(-50%); }
        }
        .animate-marquee {
            animation: marquee 20s linear infinite;
        }

        /* StarBorder Styles */
        .star-border-container {
            position: relative;
            display: inline-block;
            overflow: hidden;
            line-height: 0;
            border-radius: 9999px;
            margin: 0;
        }
        .star-border-container .inner-content {
            position: relative;
            z-index: 1;
            background: #000;
            width: 100%;
            height: 100%;
            border-radius: inherit;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .border-gradient-bottom, .border-gradient-top {
            position: absolute;
            width: 200%;
            height: 50%;
            left: -50%;
            opacity: 0.8;
            z-index: 0;
            transform: translateX(0);
        }
        .border-gradient-top { top: 0; animation: star-move-top 4s linear infinite; }
        .border-gradient-bottom { bottom: 0; animation: star-move-bottom 4s linear infinite; }
        @keyframes star-move-top { 0% { transform: translateX(-50%); } 100% { transform: translateX(50%); } }
        @keyframes star-move-bottom { 0% { transform: translateX(50%); } 100% { transform: translateX(-50%); } }

        /* Bento & Magic Card */
        .bento-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 1.5rem;
            width: 100%;
            padding: 20px 0;
        }
        @media (min-width: 768px) { .bento-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (min-width: 1024px) { .bento-grid { grid-template-columns: repeat(3, 1fr); } }

        .magic-card {
            background-color: rgba(23, 23, 23, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
            position: relative;
            height: 100%;
            min-height: 240px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: transform 0.2s ease-out;
        }
        .magic-card::before, .magic-card::after {
            content: "";
            position: absolute;
            height: 100%;
            width: 100%;
            top: 0;
            left: 0;
            border-radius: inherit;
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
        }
        .magic-card::before {
            padding: 2px;
            background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(234, 88, 12, 0.8), transparent 40%);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            z-index: 3;
        }
        .magic-card::after {
            background: radial-gradient(600px circle at var(--mouse-x) var(--mouse-y), rgba(234, 88, 12, 0.15), transparent 40%);
            z-index: 1;
        }
        .magic-card:hover::before, .magic-card:hover::after { opacity: 1; }
        .magic-card-content {
            position: relative;
            z-index: 10;
            padding: 2rem;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background: radial-gradient(circle at center, rgba(30,30,30,0), rgba(0,0,0,0));
        }

        /* Dock Responsiva */
        .dock-container {
            position: fixed;
            bottom: 20px;
            top: auto;
            left: 50%;
            transform: translateX(-50%);
            z-index: 50;
            display: flex;
            justify-content: center;
            width: 90%;
            max-width: 400px;
        }
        @media (min-width: 768px) {
            .dock-container {
                top: 1.5rem;
                bottom: auto;
                width: auto;
                max-width: none;
            }
        }
        .dock-panel {
            display: flex;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 1rem;
            background-color: rgba(23, 23, 23, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(64, 64, 64, 0.5);
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.8);
            height: 64px;
            align-items: center;
            width: 100%;
            justify-content: space-around;
        }
        @media (min-width: 768px) {
            .dock-panel {
                gap: 1rem;
                padding: 0.75rem 1.5rem;
                height: 68px;
                width: auto;
                background-color: rgba(23, 23, 23, 0.8);
            }
        }
        .dock-item {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            width: 40px;
            height: 40px;
            transition: transform 0.2s;
        }
        @media (min-width: 768px) {
            .dock-item { width: 50px; height: 50px; }
            .dock-item:hover { transform: scale(1.1) translateY(-5px); }
        }
        .dock-icon {
            width: 100%;
            height: 100%;
            border-radius: 9999px;
            background-color: #262626;
            border: 1px solid #404040;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #a3a3a3;
            transition: all 0.2s;
        }
        .dock-item:active .dock-icon, .dock-item:hover .dock-icon {
            background-color: #ea580c;
            border-color: #f97316;
            color: white;
        }
        .dock-label {
            position: absolute;
            bottom: 3.5rem;
            left: 50%;
            transform: translateX(-50%);
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            background-color: #171717;
            border: 1px solid #262626;
            font-size: 0.75rem;
            color: #d4d4d4;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
        }
        @media (min-width: 768px) {
            .dock-label { bottom: -2.5rem; }
        }
        .dock-item:hover .dock-label { opacity: 1; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- SISTEMA DE ÍCONES NATIVOS ---
        const IconBase = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>{children}</svg>
        );
        const Icons = {
            Play: (props) => <IconBase {...props}><polygon points="5 3 19 12 5 21 5 3"></polygon></IconBase>,
            X: (props) => <IconBase {...props}><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></IconBase>,
            Menu: (props) => <IconBase {...props}><line x1="4" y1="12" x2="20" y2="12"></line><line x1="4" y1="6" x2="20" y2="6"></line><line x1="4" y1="18" x2="20" y2="18"></line></IconBase>,
            Instagram: (props) => <IconBase {...props}><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></IconBase>,
            Linkedin: (props) => <IconBase {...props}><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></IconBase>,
            Mail: (props) => <IconBase {...props}><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></IconBase>,
            ArrowRight: (props) => <IconBase {...props}><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></IconBase>,
            Film: (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"></rect><line x1="7" x2="7" y1="3" y2="21"></line><line x1="17" x2="17" y1="3" y2="21"></line><line x1="3" x2="21" y1="12" y2="12"></line><line x1="3" x2="7" y1="7" y2="7"></line><line x1="3" x2="7" y1="17" y2="17"></line><line x1="17" x2="21" y1="17" y2="17"></line><line x1="17" x2="21" y1="7" y2="7"></line></IconBase>,
            Camera: (props) => <IconBase {...props}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"></path><circle cx="12" cy="13" r="3"></circle></IconBase>,
            Clapperboard: (props) => <IconBase {...props}><path d="M20.2 6 3 11l-.9-2.4c-.5-1.1.2-2.4 1.3-2.9l13.2-4.8c1.1-.5 2.4.2 2.9 1.3l.7 1.8z"></path><path d="m6.2 5.3 3.1 3.9"></path><path d="m12.4 3.4 3.1 4"></path><path d="M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"></path></IconBase>,
            MonitorPlay: (props) => <IconBase {...props}><path d="m10 7 5 3-5 3Z"></path><rect x="2" y="3" width="20" height="14" rx="2"></rect><path d="M12 17v4"></path><path d="M8 21h8"></path></IconBase>,
            ChevronDown: (props) => <IconBase {...props}><path d="m6 9 6 6 6-6"></path></IconBase>,
            MoveRight: (props) => <IconBase {...props}><path d="M18 8L22 12L18 16"></path><path d="M2 12H22"></path></IconBase>,
            Home: (props) => <IconBase {...props}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></IconBase>,
            User: (props) => <IconBase {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></IconBase>,
            Briefcase: (props) => <IconBase {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></IconBase>,
            Aperture: (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"></circle><path d="m14.31 8 5.74 9.94"></path><path d="M9.69 8h11.48"></path><path d="m7.38 12 5.74-9.94"></path><path d="M9.69 16 3.95 6.06"></path><path d="M14.31 16H2.83"></path><path d="m16.62 12-5.74 9.94"></path></IconBase>,
            Mic: (props) => <IconBase {...props}><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" x2="12" y1="19" y2="22"></line></IconBase>,
        };
        const { Play, X, Menu, Instagram, Linkedin, Mail, ArrowRight, Film, Camera, Clapperboard, MonitorPlay, ChevronDown, MoveRight, Home, User, Briefcase, Aperture, Mic } = Icons;

        // --- COMPONENTES AUXILIARES ---
        const NoiseOverlay = () => (
            <div className="fixed inset-0 pointer-events-none z-50 opacity-[0.03] mix-blend-overlay">
                <svg className="w-full h-full" xmlns="http://www.w3.org/2000/svg">
                    <filter id="noiseFilter">
                        <feTurbulence type="fractalNoise" baseFrequency="0.80" numOctaves="3" stitchTiles="stitch"/>
                    </filter>
                    <rect width="100%" height="100%" filter="url(#noiseFilter)"/>
                </svg>
            </div>
        );

        const StarBorder = ({ as: Component = 'button', className = '', contentClassName = '', color = 'white', speed = '6s', thickness = 2, children, ...rest }) => {
            return (
                <Component className={`star-border-container ${className}`} style={{ padding: `${thickness}px`, ...rest.style }} {...rest}>
                    <div className="border-gradient-bottom" style={{ background: `radial-gradient(circle, ${color}, transparent 10%)`, animationDuration: speed }}></div>
                    <div className="border-gradient-top" style={{ background: `radial-gradient(circle, ${color}, transparent 10%)`, animationDuration: speed }}></div>
                    <div className={`inner-content ${contentClassName}`}>{children}</div>
                </Component>
            );
        };

        // --- LIGHT RAYS COMPONENT (Vanilla WebGL) ---
        const hexToRgb = hex => {
            const m = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return m ? [parseInt(m[1], 16) / 255, parseInt(m[2], 16) / 255, parseInt(m[3], 16) / 255] : [1, 1, 1];
        };

        const getAnchorAndDir = (origin, w, h) => {
            const outside = 0.2;
            switch (origin) {
                case 'top-left': return { anchor: [0, -outside * h], dir: [0, 1] };
                case 'top-right': return { anchor: [w, -outside * h], dir: [0, 1] };
                case 'left': return { anchor: [-outside * w, 0.5 * h], dir: [1, 0] };
                case 'right': return { anchor: [(1 + outside) * w, 0.5 * h], dir: [-1, 0] };
                case 'bottom-left': return { anchor: [0, (1 + outside) * h], dir: [0, -1] };
                case 'bottom-center': return { anchor: [0.5 * w, (1 + outside) * h], dir: [0, -1] };
                case 'bottom-right': return { anchor: [w, (1 + outside) * h], dir: [0, -1] };
                default: return { anchor: [0.5 * w, -outside * h], dir: [0, 1] }; // top-center
            }
        };

        const LightRays = ({
            raysOrigin = 'top-center',
            raysColor = '#ffffff',
            raysSpeed = 1,
            lightSpread = 1,
            rayLength = 2,
            pulsating = false,
            fadeDistance = 1.0,
            saturation = 1.0,
            followMouse = true,
            mouseInfluence = 0.1,
            noiseAmount = 0.0,
            distortion = 0.0,
            className = ''
        }) => {
            const canvasRef = useRef(null);
            const mouseRef = useRef({ x: 0.5, y: 0.5 });
            const containerRef = useRef(null);

            useEffect(() => {
                const canvas = canvasRef.current;
                if (!canvas) return;
                
                const gl = canvas.getContext('webgl');
                if (!gl) return;

                const vertShaderSrc = `attribute vec2 position; void main() { gl_Position = vec4(position, 0.0, 1.0); }`;
                const fragShaderSrc = `
                    precision highp float;
                    uniform float iTime;
                    uniform vec2 iResolution;
                    uniform vec2 rayPos;
                    uniform vec2 rayDir;
                    uniform vec3 raysColor;
                    uniform float raysSpeed;
                    uniform float lightSpread;
                    uniform float rayLength;
                    uniform float pulsating;
                    uniform float fadeDistance;
                    uniform float saturation;
                    uniform vec2 mousePos;
                    uniform float mouseInfluence;
                    uniform float noiseAmount;
                    uniform float distortion;

                    float noise(vec2 st) { return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123); }

                    float rayStrength(vec2 raySource, vec2 rayRefDirection, vec2 coord, float seedA, float seedB, float speed) {
                        vec2 sourceToCoord = coord - raySource;
                        vec2 dirNorm = normalize(sourceToCoord);
                        float cosAngle = dot(dirNorm, rayRefDirection);
                        float distortedAngle = cosAngle + distortion * sin(iTime * 2.0 + length(sourceToCoord) * 0.01) * 0.2;
                        float spreadFactor = pow(max(distortedAngle, 0.0), 1.0 / max(lightSpread, 0.001));
                        float distance = length(sourceToCoord);
                        float maxDistance = iResolution.x * rayLength;
                        float lengthFalloff = clamp((maxDistance - distance) / maxDistance, 0.0, 1.0);
                        float fadeFalloff = clamp((iResolution.x * fadeDistance - distance) / (iResolution.x * fadeDistance), 0.5, 1.0);
                        float pulse = pulsating > 0.5 ? (0.8 + 0.2 * sin(iTime * speed * 3.0)) : 1.0;
                        float baseStrength = clamp((0.45 + 0.15 * sin(distortedAngle * seedA + iTime * speed)) + (0.3 + 0.2 * cos(-distortedAngle * seedB + iTime * speed)), 0.0, 1.0);
                        return baseStrength * lengthFalloff * fadeFalloff * spreadFactor * pulse;
                    }

                    void main() {
                        vec2 coord = vec2(gl_FragCoord.x, iResolution.y - gl_FragCoord.y);
                        vec2 finalRayDir = rayDir;
                        if (mouseInfluence > 0.0) {
                            vec2 mouseScreenPos = mousePos * iResolution.xy;
                            vec2 mouseDirection = normalize(mouseScreenPos - rayPos);
                            finalRayDir = normalize(mix(rayDir, mouseDirection, mouseInfluence));
                        }
                        vec4 rays1 = vec4(1.0) * rayStrength(rayPos, finalRayDir, coord, 36.2214, 21.11349, 1.5 * raysSpeed);
                        vec4 rays2 = vec4(1.0) * rayStrength(rayPos, finalRayDir, coord, 22.3991, 18.0234, 1.1 * raysSpeed);
                        vec4 fragColor = rays1 * 0.5 + rays2 * 0.4;
                        if (noiseAmount > 0.0) {
                            float n = noise(coord * 0.01 + iTime * 0.1);
                            fragColor.rgb *= (1.0 - noiseAmount + noiseAmount * n);
                        }
                        float brightness = 1.0 - (coord.y / iResolution.y);
                        fragColor.x *= 0.1 + brightness * 0.8;
                        fragColor.y *= 0.3 + brightness * 0.6;
                        fragColor.z *= 0.5 + brightness * 0.5;
                        fragColor.rgb *= raysColor;
                        gl_FragColor = fragColor;
                    }
                `;

                const createShader = (type, source) => {
                    const shader = gl.createShader(type);
                    gl.shaderSource(shader, source);
                    gl.compileShader(shader);
                    return shader;
                };

                const vertShader = createShader(gl.VERTEX_SHADER, vertShaderSrc);
                const fragShader = createShader(gl.FRAGMENT_SHADER, fragShaderSrc);
                const program = gl.createProgram();
                gl.attachShader(program, vertShader);
                gl.attachShader(program, fragShader);
                gl.linkProgram(program);

                const positionBuffer = gl.createBuffer();
                gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
                gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 3, 3, -1]), gl.STATIC_DRAW);

                const positionLoc = gl.getAttribLocation(program, 'position');
                const uTime = gl.getUniformLocation(program, 'iTime');
                const uRes = gl.getUniformLocation(program, 'iResolution');
                const uRayPos = gl.getUniformLocation(program, 'rayPos');
                const uRayDir = gl.getUniformLocation(program, 'rayDir');
                const uColor = gl.getUniformLocation(program, 'raysColor');
                const uSpeed = gl.getUniformLocation(program, 'raysSpeed');
                const uSpread = gl.getUniformLocation(program, 'lightSpread');
                const uLen = gl.getUniformLocation(program, 'rayLength');
                const uPulse = gl.getUniformLocation(program, 'pulsating');
                const uFade = gl.getUniformLocation(program, 'fadeDistance');
                const uSat = gl.getUniformLocation(program, 'saturation');
                const uMouse = gl.getUniformLocation(program, 'mousePos');
                const uMouseInf = gl.getUniformLocation(program, 'mouseInfluence');
                const uNoise = gl.getUniformLocation(program, 'noiseAmount');
                const uDist = gl.getUniformLocation(program, 'distortion');

                let animationFrame;
                const startTime = performance.now();

                const resize = () => {
                    if (!canvas) return;
                    canvas.width = canvas.clientWidth * window.devicePixelRatio;
                    canvas.height = canvas.clientHeight * window.devicePixelRatio;
                    gl.viewport(0, 0, canvas.width, canvas.height);
                };
                window.addEventListener('resize', resize);
                resize();

                const render = () => {
                    gl.useProgram(program);
                    gl.enableVertexAttribArray(positionLoc);
                    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
                    gl.vertexAttribPointer(positionLoc, 2, gl.FLOAT, false, 0, 0);

                    const time = (performance.now() - startTime) * 0.001;
                    const rgb = hexToRgb(raysColor);
                    const { anchor, dir } = getAnchorAndDir(raysOrigin, canvas.width, canvas.height);

                    gl.uniform1f(uTime, time);
                    gl.uniform2f(uRes, canvas.width, canvas.height);
                    gl.uniform2fv(uRayPos, anchor);
                    gl.uniform2fv(uRayDir, dir);
                    gl.uniform3fv(uColor, rgb);
                    gl.uniform1f(uSpeed, raysSpeed);
                    gl.uniform1f(uSpread, lightSpread);
                    gl.uniform1f(uLen, rayLength);
                    gl.uniform1f(uPulse, pulsating ? 1.0 : 0.0);
                    gl.uniform1f(uFade, fadeDistance);
                    gl.uniform1f(uSat, saturation);
                    gl.uniform2f(uMouse, mouseRef.current.x, mouseRef.current.y);
                    gl.uniform1f(uMouseInf, mouseInfluence);
                    gl.uniform1f(uNoise, noiseAmount);
                    gl.uniform1f(uDist, distortion);

                    gl.drawArrays(gl.TRIANGLES, 0, 3);
                    animationFrame = requestAnimationFrame(render);
                };
                render();

                return () => {
                    cancelAnimationFrame(animationFrame);
                    window.removeEventListener('resize', resize);
                };
            }, [raysColor, raysSpeed, lightSpread, rayLength, pulsating, fadeDistance, saturation, mouseInfluence, noiseAmount, distortion, raysOrigin]);

            useEffect(() => {
                const handleMouseMove = (e) => {
                    if (followMouse) {
                        const x = e.clientX / window.innerWidth;
                        const y = e.clientY / window.innerHeight;
                        mouseRef.current = { x, y };
                    }
                };
                window.addEventListener('mousemove', handleMouseMove);
                return () => window.removeEventListener('mousemove', handleMouseMove);
            }, [followMouse]);

            return (
                <div ref={containerRef} className={className} style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', overflow: 'hidden', pointerEvents: 'none', zIndex: 0 }}>
                    <canvas ref={canvasRef} style={{ width: '100%', height: '100%' }} />
                </div>
            );
        };

        // --- BENTO GRID ---
        const BentoCard = ({ title, description, icon, label }) => {
            const cardRef = useRef(null);
            const handleMouseMove = (e) => {
                if (!cardRef.current) return;
                const rect = cardRef.current.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                cardRef.current.style.setProperty("--mouse-x", `${x}px`);
                cardRef.current.style.setProperty("--mouse-y", `${y}px`);
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const rotateX = ((y - centerY) / centerY) * -2; 
                const rotateY = ((x - centerX) / centerX) * 2;
                cardRef.current.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            };
            const handleMouseLeave = () => {
                if (!cardRef.current) return;
                cardRef.current.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg)`;
            };
            return (
                <div ref={cardRef} className="magic-card group" onMouseMove={handleMouseMove} onMouseLeave={handleMouseLeave}>
                    <div className="magic-card-content">
                        <div className="mb-4 text-orange-600 p-3 bg-orange-500/10 rounded-lg w-fit group-hover:bg-orange-600 group-hover:text-white transition-colors duration-300">{icon}</div>
                        <div className="mt-auto">
                            <div className="text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2">{label}</div>
                            <h3 className="text-2xl font-bold text-white mb-2 group-hover:text-orange-500 transition-colors">{title}</h3>
                            <p className="text-neutral-400 text-sm leading-relaxed">{description}</p>
                        </div>
                    </div>
                </div>
            );
        };

        // --- DOCK ---
        const DockItem = ({ icon, label, onClick }) => (
            <div onClick={onClick} className="dock-item">
                <div className="dock-icon text-neutral-400">{icon}</div>
                <div className="dock-label">{label}</div>
            </div>
        );
        const Dock = ({ items }) => (
            <div className="dock-container">
                <div className="dock-panel">
                    {items.map((item, index) => <DockItem key={index} {...item} />)}
                </div>
            </div>
        );

        // --- PORTFOLIO ITEM ---
        const PortfolioItem = ({ item, onClick, index }) => {
            const isVideo = item.video || (item.image && (item.image.endsWith('.MOV') || item.image.endsWith('.mp4')));
            
            return (
                <div className={`group relative overflow-hidden cursor-pointer bg-neutral-900 ${index % 2 === 0 ? 'md:col-span-2' : 'md:col-span-1'} h-[300px] md:h-[400px]`} onClick={() => onClick(item)}>
                    {/* Renderiza VIDEO se for um ficheiro de vídeo, senão IMG */}
                    {isVideo ? (
                        <video 
                            src={item.video || item.image} 
                            className="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105 opacity-60 group-hover:opacity-100" 
                            muted 
                            loop 
                            playsInline
                            onMouseOver={event => event.target.play()}
                            onMouseOut={event => event.target.pause()}
                        />
                    ) : (
                        <img 
                            src={item.image} 
                            alt={item.title} 
                            className="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105 opacity-60 group-hover:opacity-100"
                            /* Adicionado: Se a imagem local não carregar, usa esta imagem da internet como reserva */
                            onError={(e) => {
                                e.target.onerror = null; 
                                e.target.src = "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&fit=crop&q=80&w=1200";
                            }}
                        />
                    )}
                    
                    <div className="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent opacity-80 group-hover:opacity-40 transition-opacity duration-500" />
                    <div className="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 scale-90 group-hover:scale-100">
                        <div className="w-20 h-20 border border-white/30 rounded-full flex items-center justify-center backdrop-blur-sm bg-white/5 hover:bg-orange-600 hover:border-orange-600 transition-colors">
                            <span className="text-white text-xs font-bold uppercase tracking-widest">Ver</span>
                        </div>
                    </div>
                    <div className="absolute bottom-0 left-0 p-6 md:p-8 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                        <div className="flex items-center gap-3 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100">
                            <div className="h-[1px] w-8 bg-orange-500"></div>
                            <p className="text-orange-500 text-xs font-bold tracking-[0.2em] uppercase">{item.category}</p>
                        </div>
                        <h3 className="text-2xl md:text-4xl font-bold text-white leading-tight">{item.title}</h3>
                    </div>
                </div>
            );
        };

        // --- MARQUEE ---
        const Marquee = () => (
            <div className="relative flex overflow-x-hidden bg-orange-600 py-3 md:py-4 transform -rotate-1 origin-left scale-105 border-y-2 md:border-y-4 border-black">
                <div className="animate-marquee whitespace-nowrap flex gap-8">
                    {[...Array(10)].map((_, i) => (
                        <span key={i} className="text-black font-black uppercase text-lg md:text-xl tracking-widest mx-4 flex items-center gap-4">
                            Direção <span className="w-2 h-2 bg-black rounded-full"></span> 
                            Edição <span className="w-2 h-2 bg-black rounded-full"></span> 
                            Color Grading <span className="w-2 h-2 bg-black rounded-full"></span>
                        </span>
                    ))}
                </div>
            </div>
        );

        // --- MODAL ---
        const Modal = ({ isOpen, onClose, project }) => {
            if (!isOpen || !project) return null;
            
            // Verifica se é vídeo
            const isVideo = project.video || (project.image && (project.image.endsWith('.MOV') || project.image.endsWith('.mp4')));

            return (
                <div className="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl animate-in fade-in duration-300">
                    <button onClick={onClose} className="absolute top-4 right-4 md:top-8 md:right-8 text-white/50 hover:text-orange-500 transition-colors z-50"><X size={32} /></button>
                    <div className="w-full max-w-6xl max-h-[90vh] overflow-y-auto custom-scrollbar bg-neutral-900 rounded-sm border border-neutral-800 flex flex-col">
                        <div className="relative w-full aspect-video bg-black group shrink-0">
                            {isVideo ? (
                                <video 
                                    src={project.video || project.image} 
                                    className="w-full h-full object-contain bg-black" 
                                    controls 
                                    autoPlay 
                                />
                            ) : (
                                <img src={project.image} alt={project.title} className="w-full h-full object-cover opacity-80" />
                            )}
                            
                            {!isVideo && (
                                <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
                                    <Play size={64} className="text-white fill-white opacity-80 drop-shadow-2xl" />
                                </div>
                            )}
                        </div>
                        <div className="p-6 md:p-16 bg-neutral-900">
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12">
                                <div className="md:col-span-2 space-y-6 md:space-y-8">
                                    <div>
                                        <span className="text-orange-500 text-sm font-bold tracking-[0.2em] uppercase mb-2 block">{project.category}</span>
                                        <h2 className="text-3xl md:text-6xl font-black text-white leading-none mb-4 md:mb-6">{project.title}</h2>
                                        <p className="text-neutral-400 text-base md:text-lg leading-relaxed font-light">{project.description}</p>
                                    </div>
                                    <div className="flex gap-4">
                                        <button className="px-6 py-3 md:px-8 md:py-4 bg-white text-black font-bold uppercase tracking-wider hover:bg-orange-500 hover:text-white transition-colors flex items-center gap-2 text-sm md:text-base">
                                            Ver Projeto <ArrowRight size={18} />
                                        </button>
                                    </div>
                                </div>
                                <div className="md:col-span-1 space-y-6 md:space-y-8 border-t md:border-t-0 md:border-l border-neutral-800 pt-6 md:pt-0 md:pl-12">
                                    <div className="space-y-2">
                                        <p className="text-neutral-500 text-xs uppercase tracking-widest">Cliente</p>
                                        <p className="text-white text-lg md:text-xl font-medium">{project.client || "Confidencial"}</p>
                                    </div>
                                    <div className="space-y-2">
                                        <p className="text-neutral-500 text-xs uppercase tracking-widest">Ano</p>
                                        <p className="text-white text-lg md:text-xl font-medium">2024</p>
                                    </div>
                                    <div className="space-y-2">
                                        <p className="text-neutral-500 text-xs uppercase tracking-widest">Serviços</p>
                                        <div className="flex flex-wrap gap-2">
                                            <span className="px-3 py-1 bg-neutral-800 text-neutral-300 text-xs uppercase tracking-wider rounded-full">Direção</span>
                                            <span className="px-3 py-1 bg-neutral-800 text-neutral-300 text-xs uppercase tracking-wider rounded-full">Edição</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // --- APP PRINCIPAL ---
        function FilmmakerPortfolio() {
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [selectedCategory, setSelectedCategory] = useState('Todos');
            const [selectedProject, setSelectedProject] = useState(null);
            const [scrolled, setScrolled] = useState(false);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const categories = ['Todos', 'Comercial', 'Fashion'];
            
            // DADOS DOS PROJETOS
            const projects = [
                { 
                    id: 7, 
                    title: "Barber Style Promo", 
                    category: "Comercial", 
                    image: "IMG_3706.MOV", 
                    video: "IMG_3706.MOV", 
                    description: "Vídeo promocional dinâmico para barbearia, destacando a precisão do corte e o ambiente do espaço.", 
                    client: "Barber Shop" 
                },
                { id: 2, title: "Essência Pura", category: "Comercial", image: "https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?auto=format&fit=crop&q=80&w=1200", description: "Campanha publicitária de alto orçamento para marca de perfumes.", client: "Chanel" },
                { 
                    id: 8, 
                    title: "Lifestyle & Performance", 
                    category: "Fashion", 
                    image: "IMG_3616.JPG.jpg", // Foto local adicionada em Fashion
                    description: "Captura de estilo e presença em eventos, focada na autenticidade do momento.", 
                    client: "Editorial" 
                }
            ];
            
            const filteredProjects = selectedCategory === 'Todos' ? projects : projects.filter(p => p.category === selectedCategory);
            const dockItems = [
                { icon: <Home size={20} />, label: 'Início', onClick: () => window.scrollTo({ top: 0, behavior: 'smooth' }) },
                { icon: <Film size={20} />, label: 'Trabalhos', onClick: () => document.getElementById('work').scrollIntoView({ behavior: 'smooth' }) },
                { icon: <User size={20} />, label: 'Sobre', onClick: () => document.getElementById('sobre').scrollIntoView({ behavior: 'smooth' }) },
                { icon: <Mail size={20} />, label: 'Contato', onClick: () => document.getElementById('contact').scrollIntoView({ behavior: 'smooth' }) },
                { icon: <Instagram size={20} />, label: 'Instagram', onClick: () => window.open('https://www.instagram.com/fexdigital.oficial?igsh=N3A1YzF3Zm5uMHh6', '_blank') },
            ];
            const services = [
                { title: "Direção de Fotografia", description: "Iluminação dramática e composição que conta histórias. ARRI e RED.", icon: <Camera size={24} />, label: "Visual" },
                { title: "Direção Criativa", description: "Da concepção à execução. Transformando ideias abstratas em narrativas.", icon: <Clapperboard size={24} />, label: "Visão" },
                { title: "Edição & Montagem", description: "Ritmo, pacing e a arte invisível de costurar momentos.", icon: <MonitorPlay size={24} />, label: "Post-Prod" },
                { title: "Color Grading", description: "Definindo a atmosfera e o humor através da psicologia das cores.", icon: <Aperture size={24} />, label: "Estética" },
                { title: "Sound Design", description: "Paisagens sonoras imersivas que dão peso e textura às imagens.", icon: <Mic size={24} />, label: "Audio" },
                { title: "Produção Executiva", description: "Logística impecável e gestão de equipas.", icon: <Briefcase size={24} />, label: "Gestão" }
            ];

            return (
                <div className="bg-black min-h-screen text-neutral-100 font-sans selection:bg-orange-500 selection:text-white overflow-x-hidden pb-32">
                    <NoiseOverlay />
                    
                    <nav className={`fixed w-full z-40 transition-all duration-500 border-b ${scrolled ? 'bg-black/80 backdrop-blur-md border-neutral-800 py-4' : 'bg-transparent border-transparent py-4 md:py-8'}`}>
                        <div className="container mx-auto px-6 md:px-12 flex justify-between items-center">
                            <a href="#" className="text-lg md:text-2xl font-black tracking-tighter uppercase flex items-center gap-2 z-50">
                                <div className="w-6 h-6 md:w-8 md:h-8 bg-orange-600 flex items-center justify-center rounded-sm">
                                    <span className="text-black font-bold text-sm md:text-lg">F</span>
                                </div>
                                <span>Freitas<span className="text-neutral-500">Filmaker</span>.</span>
                            </a>
                            <div className="hidden md:flex items-center gap-6">
                                <StarBorder as="a" href="https://wa.me/5579998771410?text=Ol%C3%A1!%20Gostaria%20de%20solicitar%20um%20or%C3%A7amento." target="_blank" rel="noopener noreferrer" contentClassName="text-neutral-200 text-xs font-bold uppercase tracking-widest px-8 py-3" color="#ea580c" speed="4s">
                                    Solicitar Orçamento
                                </StarBorder>
                            </div>
                        </div>
                    </nav>

                    <Dock items={dockItems} />

                    <header className="relative h-screen flex flex-col justify-center overflow-hidden">
                        <div className="absolute inset-0 z-0">
                            <img src="https://images.unsplash.com/photo-1596483443194-d2e7d7065cb1?auto=format&fit=crop&q=80&w=2000" alt="Background" className="w-full h-full object-cover opacity-30 scale-110 animate-pulse-slow" />
                            <div className="absolute inset-0 bg-gradient-to-t from-black via-black/40 to-black/20" />
                            {/* LIGHT RAYS EFFECT */}
                            <LightRays 
                                raysColor="#ffffff"
                                raysSpeed={0.5}
                                lightSpread={0.5}
                                rayLength={1.5}
                                mouseInfluence={0.2}
                            />
                            <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20 pointer-events-none"></div>
                        </div>
                        <div className="container mx-auto px-6 md:px-12 relative z-10 mt-20 pointer-events-none">
                            <div className="flex flex-col items-start max-w-5xl pointer-events-auto">
                                <div className="flex items-center gap-4 mb-6 animate-fade-in-up">
                                    <div className="h-[2px] w-8 md:w-12 bg-orange-600"></div>
                                    <p className="text-orange-500 tracking-[0.3em] font-bold uppercase text-xs md:text-sm">Desde 2024</p>
                                </div>
                                <h1 className="text-5xl md:text-8xl lg:text-[10rem] font-black uppercase leading-[0.9] tracking-tighter mb-6 md:mb-10 mix-blend-screen">
                                    Visual <br/>
                                    <span className="text-transparent bg-clip-text bg-gradient-to-r from-neutral-200 to-neutral-600">Storytelling</span>
                                </h1>
                                <p className="text-lg md:text-2xl text-neutral-400 max-w-2xl font-light mb-8 md:mb-12 border-l-4 border-orange-600 pl-6">
                                    Criando narrativas visuais que transcendem o ecrã. Especialista em direção de fotografia e color grading cinematográfico.
                                </p>
                                <div className="flex flex-wrap gap-4 md:gap-6">
                                    <button className="px-6 py-3 md:px-8 md:py-4 bg-orange-600 text-white font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-all flex items-center gap-3 group text-sm md:text-base">
                                        <Play className="fill-current w-3 h-3 md:w-4 md:h-4" /> Ver Showreel
                                    </button>
                                    <button className="px-6 py-3 md:px-8 md:py-4 border border-white/20 text-white font-bold uppercase tracking-widest hover:border-white hover:bg-white/5 transition-all flex items-center gap-3 text-sm md:text-base">
                                        Ver Trabalhos <ChevronDown className="animate-bounce" />
                                    </button>
                                </div>
                            </div>
                        </div>
                    </header>

                    <Marquee />

                    <section id="work" className="py-20 md:py-32 bg-black relative">
                        <div className="container mx-auto px-6 md:px-12">
                            <div className="flex flex-col md:flex-row justify-between items-start md:items-end mb-12 md:mb-24 gap-8">
                                <div>
                                    <span className="text-orange-600 font-bold tracking-[0.2em] uppercase mb-2 block">Portfólio</span>
                                    <h2 className="text-4xl md:text-7xl font-black text-white tracking-tighter">Obras Selecionadas</h2>
                                </div>
                                <div className="flex flex-wrap gap-2">
                                    {categories.map(cat => (
                                        <button key={cat} onClick={() => setSelectedCategory(cat)} className={`text-[10px] md:text-xs font-bold uppercase tracking-[0.15em] px-4 py-2 md:px-6 md:py-3 border transition-all ${selectedCategory === cat ? 'bg-white text-black border-white' : 'bg-transparent text-neutral-500 border-neutral-800 hover:border-neutral-500 hover:text-white'}`}>{cat}</button>
                                    ))}
                                </div>
                            </div>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                                {filteredProjects.map((project, idx) => (
                                    <PortfolioItem key={project.id} item={project} index={idx} onClick={setSelectedProject} />
                                ))}
                            </div>
                            <div className="mt-20 text-center">
                                <button className="inline-flex items-center gap-3 text-neutral-400 hover:text-orange-500 transition-colors uppercase tracking-[0.2em] text-sm font-bold group">
                                    Ver Arquivo Completo <MoveRight className="group-hover:translate-x-2 transition-transform" />
                                </button>
                            </div>
                        </div>
                    </section>

                    <section id="sobre" className="py-20 md:py-32 bg-neutral-900 border-t border-neutral-800 relative overflow-hidden">
                        <div className="absolute top-0 right-0 w-1/2 h-full bg-neutral-800/20 skew-x-12 pointer-events-none"></div>
                        <div className="container mx-auto px-6 md:px-12 relative z-10">
                            <div className="mb-12 md:mb-20 max-w-2xl">
                                <span className="text-orange-600 font-bold tracking-[0.2em] uppercase mb-2 block">Expertise</span>
                                <h2 className="text-4xl md:text-7xl font-black mb-4 md:mb-6 leading-none">Visão <br/><span className="text-neutral-500">& Técnica.</span></h2>
                                <p className="text-neutral-400 text-base md:text-lg">Uma abordagem multidisciplinar para a produção cinematográfica, onde cada detalhe técnico serve a narrativa emocional.</p>
                            </div>
                            <div className="bento-grid">
                                {services.map((service, index) => (
                                    <BentoCard key={index} title={service.title} description={service.description} icon={service.icon} label={service.label} />
                                ))}
                            </div>
                        </div>
                    </section>

                    <footer id="contact" className="bg-black pt-20 md:pt-32 pb-24 md:pb-12 border-t border-neutral-900">
                        <div className="container mx-auto px-6 md:px-12 text-center">
                            <p className="text-orange-500 font-bold tracking-[0.3em] uppercase mb-6 animate-pulse text-xs md:text-base">Disponível para Projetos 2026</p>
                            <h2 className="text-4xl md:text-8xl font-black text-white mb-8 md:mb-12 tracking-tighter hover:scale-105 transition-transform duration-700 cursor-default">FREITAS<span className="text-neutral-800">FILMAKER</span></h2>
                            <div className="flex flex-col md:flex-row justify-center items-center gap-8 mb-12 md:mb-20">
                                <StarBorder as="a" href="https://wa.me/5579998771410?text=Ol%C3%A1!%20Gostaria%20de%20iniciar%20um%20projeto." target="_blank" rel="noopener noreferrer" contentClassName="px-8 py-4 md:px-10 md:py-5 text-white font-black uppercase tracking-widest text-sm md:text-base" className="group" color="#ea580c" speed="3s">
                                    <span className="relative z-10">Iniciar Projeto</span>
                                </StarBorder>
                                <div className="flex gap-6 md:gap-8">
                                    <a href="https://www.instagram.com/fexdigital.oficial?igsh=N3A1YzF3Zm5uMHh6" target="_blank" rel="noopener noreferrer" className="text-neutral-500 hover:text-white font-bold uppercase tracking-widest text-xs md:text-sm transition-colors border-b border-transparent hover:border-white pb-1">Instagram</a>
                                    <a href="#" className="text-neutral-500 hover:text-white font-bold uppercase tracking-widest text-xs md:text-sm transition-colors border-b border-transparent hover:border-white pb-1">Vimeo</a>
                                    <a href="#" className="text-neutral-500 hover:text-white font-bold uppercase tracking-widest text-xs md:text-sm transition-colors border-b border-transparent hover:border-white pb-1">LinkedIn</a>
                                </div>
                            </div>
                            <div className="flex flex-col md:flex-row justify-between items-center md:items-end border-t border-neutral-900 pt-8 text-neutral-600 text-[10px] md:text-xs font-mono uppercase gap-4">
                                <p>© 2026 Freitas Filmaker.</p>
                                <p>Made for Cinema.</p>
                            </div>
                        </div>
                    </footer>

                    <Modal isOpen={!!selectedProject} onClose={() => setSelectedProject(null)} project={selectedProject} />
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<FilmmakerPortfolio />);
    </script>
</body>

</html>
